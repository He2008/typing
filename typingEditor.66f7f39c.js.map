{"version":3,"sources":["typingEditor/config.ts","typingEditor/utils.ts","typingEditor/view.ts","typingEditor/analysis.ts","typingEditor/index.ts"],"names":[],"mappings":";;;;;AAAA,ACAA,IDAM,ACAA,IDAI,CCAC,EDCX,CCDc,mZDAd;AAcA,ACbE,EAAA,EDaI,EAAE,GACR,CCdU,EAAA,QADI,grBDcd;AAsBA,AClCE,EAAA,EDkCI,IAAI,EClCA,CDkCG,CClCH,QAFI,QDoCd;AAGA,ACpCE,EAAA,KDoCF,CAAA,ACpCQ,EAAA,KDoCR,CCvCc,EDuCA;AACd,ACpCE,EDoCF,ACpCE,ODoCK,CCpCG,CDoCF,CCpCE,GDmCI;AAEd,ACzCc,CAAd,CDyCA,IAAI,EAAA,IAFU;AAGd,ACnCA,EDmCA,EAAE,EAAA;AGzCF,AHsCc,AIvCd,AFCA,CFsCA,GGtCA,ACDA,AFCA,OCAA,ADAA,CEDA,EDCA,ADAA,CEDA,cDCA,ADAA,CCAA,ACDA,AFCA,CEDA,MDCA,ADAA,CCAA,ACDA,AFCA,CEDA,QDCA,ADAA,CCAA,ADAA,CCAA,ACDA,AFCA,CEDA,CAAA;;ADEA,ACDA,AFCA,ICAA,ACDA,AFCA,OEDA,CDCA,CDAA,CEDA,eAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;ADCA,ADAA;ACAA,ACAA,AFAA,IEAA,MAAA,EDAA,ADAA,CEAA,OAAA,CAAA,QAAA,CAAA;ADQI,ADHA,WCGA,ADHA,QCGA,CDHA,CAAY,CCGZ,GDHA,EAA0B,IAA1B,EAAyD;ACGzD,ACPJ,AHUA,ACN8B,IEJ9B,IDOI,ADH0B,CDMrB,GCNqB,CCG1B,CCPJ,EDOI,CCPJ,AHUA,ACN8B,CDMZ,EEHd,AFGJ,EAAmC,ACNL,CAAA,CEJ9B,CAAA,AFI8B,MDM9B,EAAoD,IGVpD,CAAA;AACA,AHUE,ACP4B,MAAA,GDOrB,CCPqB,GDOjB,ACPiB,MDOrB,CAAW,ECPU,UDOE,SAAZ,GAAwB,SAAnC,EAA8C,IAA9C,CAAmD,EAAE,CAAC,SAAtD,CAAP;AETE,AFUH,ACR4D,SCFzD,QAAA,GAAmB,CAAnB;AACA,AFUJ,SEVI,QAAA,GAAmB,CAAnB;AAEA,ADHA,SCGA,ADHA,KCGA,GAAiB,ADHjB,GAAoB,ECGpB,GDHA;ACME,ADHA,SCGK,ADHA,ICGL,ADHA,GCGY,ADHA,ICGI,ADHhB,ICGY,EAAZ;AACA,ADHA,SCGK,ADHA,ICGL,ADHA,GCGY,ADHA,IAAZ,ICGoB,CAAC,aAAT,CAAuB,KAAvB,CAAZ;AACA,ACLN,AFEM,ICGA,ACLN,KFEW,CEFX,CDKM,CAAA,CDHA,GAAY,GCGZ,CAAM,IDHc,CAAC,GCGrB,CAAe,KAAK,IAApB,ADHY,CAAuB,CCGT,KDHd,CAAZ,ICGA;AACA,ACNN,AFGM,SCGK,ADHA,KCGL,GAAa,IDHb,OCGwB,CAAC,YAAA;AACvB,ACPR,AFIM,SAAK,CCGC,ECPZ,GDOgB,CAAC,GDHX,CAAgB,CCGd,EAAgB,CDHlB;ACII,ACFR,AHOF,ACRK,QCGK,CFKD,QAAT,CAAkB,EAAlB,CELuB,CAAC,AFKW,KELP,CAAC,GFK7B,EELuB,AFK6B,CEL1C;AACD,AFKP,MAAI,QAAQ,CAAC,EAAD,EAAK,SAAL,CAAZ,EAA6B,OAAO,KAAP;AAC7B,ACTE,EDSF,ACTE,EDSA,CAAC,MCTD,CAAA,EDSF,IAAgB,GCTd,CAAA,EDSoB,SAAtB,CCTE,GAAA,YAAA;ACII,AFMP,ACTK,MCGE,EDHE,GCGE,CAAC,ADHC,GAAG,KAAK,ECGd,EDHF;ACIC,ADHD,KCFwB,EAKrB,EDHE,ECFmB,CAAxB,CDEA,CAAU,SAAV,GAAsB,IAAtB;ACID,ACDH,AHOF,ACTK,GAHD,MDYK,EGPP,IHOF,CAAgB,CGPd,CAAY,AHOd,EAAiC,IGP/B,EAAgC,GHOlC,EAAkD;AGdhD,AHeA,MAAI,GGfJ,KAAA,AHeY,CAAC,EGfK,AHeN,CGfO,CAAD,AHeD,EGfK,CAAJ,CAAlB,KHeY,CAAZ,EAA6B;AEN3B,ACDA,AHQA,ACVA,ECGA,ADHA,MDUI,CGRC,CDCL,CAAA,ACDA,AHQO,ACVP,CAAA,EEEU,AHQA,IAAI,EEPd,ACDgB,CDChB,ACDiB,AFFjB,CAAA,CEEA,CHQU,CAAW,IEPrB,GAAA,ADHA,GAAA,EDUiC,OEPjC,CDHW,CDUU,GAAwB,ACV7C,EAA8B,ODUpB,CAAV;AENE,ACDF,AHQA,ACVI,IDUJ,EAAE,CAAC,CEPG,ACDF,AFFG,IEEC,CDCG,ADHC,EEED,CHQX,CCVO,CCGL,CFOa,CEPG,CFOD,CAAC,ACVG,CEEF,CAAC,GFFhB,EAAwB,EDUb,CAAa,KGRjB,CAAuB,CHQnB,CAAqB,GGRzB,AHQI,CGRf,CHQyC,GAA1B,CAAf;AGPA,AHQD,ACVG,IEEF,KFFO,EEEP,CAAA,CFFE,CAAU,KEEZ,CAAM,GFFJ,GAAsB,EEExB,CAAe,IAAf,EAAqB,CFFW,IAAR,GAAY,GAAZ,EEExB,EFFwC,KAAK,QAAL,GAAgB,UAAhB,GAA6B,EAA7C,CAAtB;ACGA,ACAF,AHQH,ACVI,GAHD,KCKM,CCAD,IDAM,OCAX,CDAM,ECAa,GDAK,CAAtB,ACAqB,EDAI,ICAJ,CAAA,IAAJ,CAAS,MAAM,CAAC,IAAhB,EAAsB,SAAtB,CAAnB;ADCI,ACAJ,AHQJ,SGRS,EDAI,IAAL,CAAU,ECAd,GAAiB,GDAb,CCAiB,MAAA,CAAA,IAAJ,CAAS,MAAM,CAAC,IAAhB,EAAsB,OAAtB,CAAjB;ADCG,ACAH,AFHA,EAAA,OEGK,EFHL,CAAA,KEGA,GAAgB,CFHhB,CAAA,EEGoB,UAAA,AFHpB,CEGoB,EFHpB,MEGgB,EAAhB,EFHa,QAAb,EAA8B;AEI9B,AFHE,IEGF,IAAI,CAAC,AFHE,MEGP,CAAY,CFHV,GAAgB,CEGD,OFHf,IEGU,CAAiB,IAA7B,EAAmC,KAAK,SAAL,CAAe,IAAlD;ADAE,ACCF,SDDO,ACCF,EAAL,CAAQ,KDDN,CCCF,CAAe,KAAK,QAAL,CAAc,IAA7B,EAAmC,IAAnC;ADAE,ACCF,AFJE,QAAI,CCGC,ACCF,IFJM,MCGT,EDHA,EEIF,AFJqB;ACIpB,ACCF,AFJK,GCJJ,GDII,OAAA,CAAA,OAAA,CAAM,QAAN,CAAe,KAAK,IAApB,EAA0B,UAA1B;AEMN,AFLK,KAFD,MAEO;ACGT,ADFI,ECEJ,IDFI,ICEJ,CAAA,EDFI,CAAA,MCEJ,CAAA,ADFI,CAAM,MAAN,CAAa,ECEjB,GAAA,ADFsB,IAAlB,EAAwB,MCE5B,IDFI;ACGF,AFQN,ACVO,QCEG,CFQD,IERM,IFQf,CERM,AFQY,EERI,OFQtB,EAAmC,OAAnC,EAAgD;AEP1C,AFQJ,ACVG,GAPD,GDiBE,CAAC,EERI,OFQL,CERA,GFQc,CAAC,OAAnB,EAA4B;AEPzB,AFQD,GEXA,QFWO,KAAP;AGNF,AHOC,ACXD,EEIA,MAAA,CAAA,AFJA,SEIA,AFJA,CEIA,cAAA,GAAA,YAAA;ADDE,ACCF,AFhCF,CAAA,CC+BI,CD/BJ,KEgCE,EDDE,CAAA,ECCF,GAAA,IDDE,ACCF,CDDE,QAAA,GAAA,YAAA;AACE,AFQJ,MAAI,CAAC,CERG,EFQA,GERK,IFQE,CERX,AFQY,EERI,KFQZ,KAAoB,SAAS,CAAC,OAAV,EAA5B;AEPI,ACAF,AHQF,ACzCW,IEiCT,EHQE,CAAC,ACzCM,CAAA,CCiCF,CCAD,AHQA,CGRC,AHQT,GERI,GAAa,ADjCN,GEiCT,AFjCS,CCiCP,ECAiB,MFjCV,IEiCW,KAAD,EAAW;ADC5B,ACAA,AHOJ,MACE,CAAC,EERM,CCAD,AHQF,CADN,EEPI,CAAU,ACAF,GAAW,GDAnB,ECAwB,CAAC,OAAzB;ADCD,ACAC,AHMJ,ACXA,GCCE,CDDF,EDaE,CAAC,CCbH,EEKQ,AHQF,CAFN,EGNW,GAAG,KAAK,CAAC,GAAhB;AHMJ,ACXA,MDcE,CAAC,GAAG,CAHN;AELE,ACAE,AHKJ,ACXA,ECME,IFSA,IETA,ACAM,CDAN,CFSM,ACfR,GDeW,GAJX,CGLiB,CDAf,CAAA,CCAkB,SDAlB,ACAM,GDAN,MCAkB,GAAA,GDAlB;AACE,ACDsB,AFFxB,SCGO,EDHP,ICGE,ACDsB,AFFxB,CAAY,ECGI,ECDY,CAAC,GFF7B,EEEwB,AFFQ,CEEG,CAAX,CAAA,CFFxB,EAAoC;ACIhC,ACFiC,AHUvC,ACbE,MCKI,AFQF,CGVA,AHUC,ECbH,CDaM,CAAR,EAAW,EERI,EAAE,ADLf,GAAwB,ECKJ,ADLpB,ICKe,CAAU,KADT;AAEZ,AFQJ,ACZE,IDYF,CAAC,CERG,EFQA,CAAC,ACZE,GDYC,IERM,AFQV,CCZF,CCIc,ADJA,CDYD,EAAX,EERiB,CFQD,ECZlB,EDYF,ACZ0B,GCEV,CDFd;ACKE,ACHF,AHWF,ACZC,IDYD,CAAC,CERG,EFQA,EGXE,CDGG,CFQD,CERG,AFQF,KERO,AFQZ,CGXW,AHWC,CAAC,EGXC,CHWE,GEXJ,CFWA,GAAW,CGXrB,CHWU,GAAgB,EAAjB,GGXG,AHWoB,EAAlC,CGXc,AHWlB;AEPI,ACJoB,AHYxB,IAAA,CAAC,CERG,EFQA,IAAI,CAAC,EGZe,EDIT,CFQX,CERY,AFQA,CGZY,AHYX,CGZY,EHYT,CERC,ECJG,CAAW,AHYnB,CGZQ,CAAA,CHYG,EERX,AFQD,GERe,AFQG,EAA7B,CAAJ,CERiC,KAAK,QAAL,GAAgB,KAAK,QAAtC,GAAgD;AAJhD,ACAqB,AHarC,ACbA,EAAA,EDaA,CEbE,AFaD,CCbD,CEAE,AFAF,CDaI,IAAI,CAAC,GCbT,CAAA,CDaI,CAAY,CAAC,GAAG,ECbpB,EDae,CCbf,EDa4B,EAAxB,CAAJ,KCbS,IAAT,EAAyB,IAAzB,EAAqC;ACMpC,AFQD,ACdA,GCDA,CFeA,ICdA,EDcM,GAAM,ACdZ,CDca,ECdb,CDca,GCdb,KDcY,GAAK,CAAL,GAAM,QAAlB;AGbE,AHcH,UGdO,UAAU,GAAG,SAAb,UAAa,GAAA;ADMnB,ACLI,AFDF,ECMF,ODNO,CCMP,CAAA,EDNE,EECE,CFDU,ICMd,ACLQ,CDKR,ACLS,GFDa,CAAC,KECnB,CDKJ,ACLmB,GDKnB,IDNc,CECV,AFDiC,CECT,EFDd,CAAZ,GCMF,GCLqC,EAAjC,EAAqC,QAArC,CAA8C,SAAS,EAAvD,CAAA;ADMF,ACN4D,AHchE,ACdI,IAAA,GEDA,EDOK,AFQF,ECdH,CAAA,CCMA,CAAU,KDNV,CAAM,QCMN,ADNA,CAAe,KAAK,IAApB,EAA0B,MAA1B;ACOA,AFOI,ACbJ,IDaI,ACbJ,CDaK,EAAA,CAAF,ACbC,CCMC,ADNA,OAAL,CAAa,ECMb,QDNa,IAAA,EAAI;ACOjB,ACPA,AHaM,ACZJ,IDYI,CAAC,EAAA,CENH,AFMD,CENE,CCPD,AFCE,ECME,KAAK,EDNE,GEDC,AFEZ,CCKJ,ECPmB,CFEX,KAAK,GEFT,IFEA,GAAmB,KEFJ,GAAA,KFEf,GAAmC,SADrC;ACOF,ACPE,AHYM,IAAA,CAAC,EAAA,CELL,AFKD,IELK,GAAG,ACPT,KAAI,CAAC,WAAL,CAAiB,ODOI,CAAC,ACPtB,CDOuB,ACPG,SDOL,ACPc,CDOF,CCPjC,EAAuC,GDOlB,IAAsB,CCP3C,CAAgD,CDOvC,IAAqC,ICPW,EAAzD,CAAA,2BDOS,GACT,CAAC,CAAC,UADO,GACG,4BADH,GAEQ,CAAC,CAAC,KAFV,GAEe,kCAFf,GAEmC,IAAI,CAAC,IAAL,CAC7C,CAAC,CAAC,WAAF,GAAiB,GAD4B,CAFnC,GAIV,UAJD;AAKA,ACZ8D,AHYpD,ACVR,IDUQ,CAAC,EGbX,AHaW,CGpBiB,AHoBzB,CEAE,ACXL,CFCM,GCUN,CAAU,ADVA,KAAK,ICUf,GAAsB,CDVpB,EAAuB,CCUzB;AACD,AFDa,ACTR,GCAN,CFSc,ICTR,EDSc,EAAA,KCTL,GAAG,QAAZ;ADSD,ACRC,GDQR,KCRQ,IAAI,GAAG,OAAP;ACUR,ACZI,AHWL,ACRQ,OAHD,ECYN,CCXO,GFEK,CEFD,GDWX,ACXc,AFEC,EEFR,EFEY,EEFC,GFEG,CEFC,GAAG,CFEf,CEFN,CFEuB,GEDtB,IAAI,GAAG,EAAP,IAAa,IAAI,GAAG,EADrB,IAEC,IAAI,GAAG,GAAP,IAAc,IAAI,GAAG,GAFtB,IAGA,IAAI,KAAK,EAJX,EAKE;ADhDR,ACiDQ,AFFE,CC/CV,EAAA,KD+CU,IEEE,IAAI,CFFG,EEEe,CFFZ,KAAZ,GEEF;AHOR,ACRU,ODQV,CAAA,ACRU,IAAI,GDQd,ACRiB,GDQF,ICRL,CDQV;AExDa,ACkDL,AHOR,ACRS,MDQH,CEzDO,AFyDN,CEzDM,ICkDD,AHOZ,GGPe,AHOA,CEzDF,GAAA,CCkDO,AHOpB,GGPQ,EAAiB,EDlDZ;ACmDH,UAAA,GAAG,GAAG,QAAN;ADMT,ADPO,ICOP,IAAA,EDPW,SAAS,GAAG,IAAI,SAAJ,CAAc,IAAd,EAAoB,SAApB,CAAhB;ACOP,ACLS,cAAI,KAAK,CAAC,cAAV,EAA0B;ADKnC,ACJW,AFFJ,MAAA,KAAI,CCMX,ACJW,AFFC,KEEI,CAAC,EFFV,CAAc,IAAd,CAAmB,MEEf,GFFJ;ACWJ,ACRO,WDQP,ACVM,IDUN,ECRa,CDQb,CAAgB;ACPR,AFHJ,MAAA,KAAI,CEGA,AFHC,IAAL,CAAU,CEGA,CAAC,IFHX,CEGI,AFHa,CEGA,QFHS,CAAC,EEGvB,EFHJ,CEG+B,KAA3B;ADQR,ACPO,AFHJ,ECUH,GDvBE,CCuBF,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,ACPG,AFHJ,GAjBD,MC2BO,KAAL,GAAa,IAAI,IAAJ,EAAb;AACD,GAFD;ACLI,AFHN,SAAA,GEGU,CFHV,EEGa,KAAK,YAAY,GAAG,IAA3B,EAAiC;ADQrC,ACPM,AF7BR,CAAA,CCoCE,CDpCF,GCoCE,CAAA,GCPM,IAAI,EDOV,CAAA,ACPa,MDOb,CCPM,EDON,YAAA;AACE,SAAK,GAAL,GAAW,IAAI,IAAJ,EAAX;AACA,ACRI,AF9BM,OAAA,CAAA,CCsCL,CCRD,EF9BM,GE8BF,AF9BE,CE8BD,GF9BC,ICsCV,CCRI,CAAc,UAAd;ADSL,ACRI,GDKL;ADTF,IAAA,IAAA;ACaE,ACRI,AFLN,ECaE,IAAA,CAAA,KCRQ,IDQR,CAAA,OCRoB,GAAG,IDQvB,ACRQ,GDQR,ECRgC,KAA5B,EAAmC,GDQvC;AACE,ACRI,AFNR,QCcQ,ECRA,CDQG,CDdX,ECcc,CCRF,CAAC,EDQK,IAAJ,EAAV,ACRI,CAAc,QAAd;AACD,AFFL,WAAA,IAAA,CAAY,IAAZ,EAA0B,IAA1B,EAAsC;ACUpC,ADZF,QCYM,CDZN,ICYW,GAAT,CDZF,CCYgB,EDZG,EAAnB;ACaI,ACRA,AFFF,MCUE,ECRA,CDQG,ADVA,GCUG,CDVR,GAAY,CCUC,GAAX,ACRY,AFFd,GEEiB,UAAf,CAA0B,aAA1B;ADSD,ACRC,AFFF,QEEE,CFFG,IAAL,GAAY,EEEA,GAAG,GFFK,CAAC,MEEnB,CAAwB,IAAxB,EFFU,CAAuB,KAAvB,CAAZ;AACA,IAAA,OAAA,CAAA,OAAA,CAAM,QAAN,CAAe,KAAK,IAApB,EAA0B,IAA1B;ACUA,ACRE,AFDF,QECE,CDQG,ADTA,IECC,CDQN,ACRO,GDQM,EDTb,CAAgB,GECd,CDQW,ACRI,AFDjB,CCSa,OAAA,CAAM,ACRjB,EAnBA,CAqBA,KDMW,CAAe,KAAK,KAApB,EAA2B,GAA3B,CAAb;AACD,ADTA,GCGD;;AAOF,ACPM,AFFJ,EAAA,IAAA,CAAA,CEEI,CDON,IAAA,ACPU,CAAC,EFFT,CAAA,KEEI,CAAc,IFFlB,GAAA,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","file":"typingEditor.66f7f39c.js","sourceRoot":"../src","sourcesContent":["const java = \n`\npublic class StringCompareEmp{\n    public static void main(String args[]){\n       String str = \"Hello World\";\n       String anotherString = \"hello world\";\n       Object objStr = str;\n  \n       System.out.println( str.compareTo(anotherString) );\n       System.out.println( str.compareToIgnoreCase(anotherString) );\n       System.out.println( str.compareTo(objStr.toString()));\n    }\n }\n`\nconst js = \n`\ndocument.ready = function (callback) {\n    if (document.addEventListener) {\n        document.addEventListener('DOMContentLoaded', function () {\n            document.removeEventListener('DOMContentLoaded', arguments.callee, false);\n            callback();\n        }, false)\n    }\n    else if (document.attachEvent) {\n        document.attachEvent('onreadystatechange', function () {\n              if (document.readyState == \"complete\") {\n                        document.detachEvent(\"onreadystatechange\", arguments.callee);\n                        callback();\n               }\n        })\n    }\n    else if (document.lastChild == document.body) {\n        callback();\n    }\n}\n`\nconst line = `this is a line!`\n\n\nexport default{\ncontent:java,\njava,\njs\n\n}\n","const utils = {\n  hasClass,\n  addClass,\n  remove,\n  timeLeft\n};\n\n/**\n *@desc 判断是否有某个Class\n *@param {HTMLElement} el 元素\n *@param {string} className 类名\n *@return {boolean}\n */\nfunction hasClass(el: HTMLElement, className: string): boolean {\n  return new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\").test(el.className);\n}\n/**\n * @desc 添加Class\n * @param el 元素\n * @param className 类名\n */\nfunction addClass(el: HTMLElement, className: string) {\n  if (hasClass(el, className)) return false;\n  el.className += \" \" + className;\n}\n\nfunction remove(el: HTMLElement, className: string) {\n  if (hasClass(el, className)) {\n    let reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    el.className = el.className.replace(reg, \" \");\n  }\n}\n/**\n * @desc startTime - endTime 剩余时间\n * @param   startTime\n * @param   endTime\n * @return Object {d,h,m,s} 天时分秒\n */\nfunction timeLeft(startTime: Date, endTime: Date): any {\n  if (!startTime || !endTime) {\n    return false;\n  }\n  let t = endTime.getTime() - startTime.getTime();\n  let d = 0,\n    h = 0,\n    m = 0,\n    s = 0,\n    format = '0';\n  if (t > 0) {\n    d = t / 3600 / 24 / 1000;\n    h = Math.floor((t / 1000 / 60 / 60) % 24);\n    m = Math.floor((t / 1000 / 60) % 60);\n    s = Math.floor((t / 1000) % 60);\n    format = `${m}分${s}秒`\n  }\n  return {d,h,m,s,format}\n}\n\nexport default utils;\nwindow.utils = utils;\n","\nimport Utils from './utils'\nexport class CharBlock {\n    char: string;\n    type: CharBlockType;\n    isActive: boolean = false;\n    html: HTMLElement;\n    constructor(char: string, type: CharBlockType = \"default\") {\n      this.char = char;\n      this.type = type;\n      this.html = document.createElement(\"span\");\n      this.initCharHtml();\n      this.changeType(type);\n    }\n    initCharHtml() {\n      let char = this.char;\n      this.html.innerHTML = char;\n    }\n    changeType(type: CharBlockType) {\n        if(this.type === 'end') return\n      this.html.className = `char ${type} ${this.isActive ? \"isActive\" : \"\"}`;\n    }\n    toggleActive(isActive: boolean) {\n      this.isActive = isActive;\n      if (this.isActive) {\n        Utils.addClass(this.html, \"isActive\");\n      } else {\n        Utils.remove(this.html, \"isActive\");\n      }\n    }\n  }\n  \n  export  class Line {\n    html: HTMLElement;\n    lineNo: number;\n    charList: CharBlock[] = [];\n    constructor(lineText: string[], type) {\n      this.initLine(lineText, type);\n    }\n    initLine(text: string[], type: String) {\n      this.html = document.createElement(\"p\");\n      Utils.addClass(this.html, \"line\");\n      text.forEach(char => {\n        let blockType: CharBlockType =\n          type === \"input\" ? \"transparent\" : \"default\";\n        if (char === \"indent\") {\n          blockType = \"indent\";\n          char = \"&nbsp\";\n        }else if(char ==='end'){\n          blockType = \"end\";\n          char = \"&nbsp\";\n        }\n        let charBlock = new CharBlock(char, blockType);\n        this.charList.push(charBlock);\n        this.html.append(charBlock.html);\n      });\n    }\n  }\n  \n  export   class View {\n    html: HTMLElement;\n    text: string;\n    lineList: Line[] = [];\n  \n    constructor(text: string, type: string) {\n      this.text = text;\n      this.html = document.createElement(\"div\");\n      Utils.addClass(this.html, type);\n      this.handleText(type);\n    }\n    handleText(type) {\n      let text = this.text;\n      let line = [];\n      let char: string;\n      let indent = true;\n      for (let i = 0; i < text.length; i++) {\n        char = text[i];\n        if (!char || char === \" \") {\n          char = indent ? \"indent\" : \"&nbsp;\";\n        } else if (char === \"\\r\\n\" || char === \"\\n\") {\n          let lineClass = new Line(line, type);\n          this.lineList.push(lineClass);\n          this.html.append(lineClass.html);\n          line = [];\n          indent = true;\n          continue;\n        } else {\n          indent = false;\n        }\n        line.push(char);\n      }\n      line.push('end')\n      let lineClass = new Line(line, type);\n      this.lineList.push(lineClass);\n      this.html.append(lineClass.html);\n    }\n  }\n  ","\nimport Utils from './utils'\nexport class Analysis {\n    html: HTMLElement;\n    time: Time;\n    inputNum: number = 0;\n    errorNum: number = 0;\n    result: any;\n    isEnd: boolean = false;\n    timer: number;\n    constructor() {\n      this.time = new Time();\n      this.html = document.createElement(\"div\");\n      Utils.addClass(this.html, \"analysis\");\n      this.timer = setInterval(() => {\n        if (this.isEnd) {\n          clearInterval(this.timer);\n        }\n        this.appendHtml();\n      }, 1000);\n    }\n    addInput() {\n      if (this.isEnd) return;\n      if (this.inputNum === 0) {\n        this.time.setStart();\n      }\n      this.inputNum++;\n      this.handleData();\n    }\n    errorInput() {\n      if (this.isEnd) return;\n      this.errorNum++;\n    }\n    endInput() {\n      if (this.isEnd) return;\n      this.isEnd = true;\n      this.time.setEnd();\n    }\n    handleData() {\n      this.result = {\n        totalTime: this.time.total,\n        totalInput: this.inputNum,\n        error: this.errorNum,\n        correctRate:this.inputNum?1-(this.errorNum / this.inputNum):1\n      };\n    }\n    appendHtml() {\n      this.time.handleCostTime();\n      this.handleData();\n      let r = this.result;\n      let html = `<span>用时:${r.totalTime.format || \"0\"}</span><span>总输入:${\n        r.totalInput\n      }</span><span>错误:${r.error}</span><span>正确率:${Math.ceil(\n       r.correctRate  * 100\n      )}%</span>`;\n      this.html.innerHTML = html;\n    }\n  }\n  \n export class Time {\n    start: Date;\n    end: Date;\n    total: string;\n    timer: number;\n    constructor() {}\n    setStart() {\n      this.start = new Date();\n    }\n    setEnd() {\n      this.end = new Date();\n      this.handleCostTime();\n    }\n    handleCostTime() {\n      let end = new Date();\n      if (this.end) {\n        end = this.end;\n      }\n      this.total = Utils.timeLeft(this.start, end);\n    }\n  }","import C from \"./config\";\nimport Utils from \"./utils\";\nimport { View } from \"./view\";\nimport {Analysis} from './analysis'\n/**\n * @desc Typing 类\n * @\n */\nclass Typing {\n  el: HTMLElement;\n  displayView: View;\n  inputView: View;\n  index: number[] = [0, 0];\n  analysis: Analysis;\n  /**\n   * 创建Typing实例\n   * @param config.text 文章内容\n   * @param config.el 挂载的htmlElement\n   */\n  constructor(config: TypingConfig) {\n    this.el = config.el;\n    let wrap = document.createElement(\"div\");\n    Utils.addClass(wrap, \"screen-warp\");\n    this.displayView = new View(config.text, \"display\");\n    this.inputView = new View(config.text, \"input\");\n    this.analysis = new Analysis();\n    wrap.append(this.displayView.html, this.inputView.html);\n    this.el.append(this.analysis.html, wrap);\n    this.handleKeyEvent();\n  }\n\n  /**\n   * 监听键盘输入\n   */\n  handleKeyEvent() {\n    window.onkeydown = (event: any) => {\n      let code: Number = event.keyCode;\n      let key = event.key;\n      let lineIndex = () => this.index[1];\n      let charIndex = () => this.index[0];\n      let inputBlock = () =>\n        this.inputView.lineList[lineIndex()].charList[charIndex()];\n      let displayBlock = () =>\n        this.displayView.lineList[lineIndex()].charList[charIndex()];\n      // input text\n      if (\n        (code > 47 && code < 59) ||\n        (code > 64 && code < 91) ||\n        (code > 185 && code < 223) ||\n        code === 32\n      ) {\n        let type: wordBlockType = \"correct\";\n        if (key === \" \") {\n          key = \"&nbsp;\";\n          if (event.preventDefault) {\n            event.preventDefault();\n          } else {\n            window.event.returnValue = false;\n          }\n        }\n        if (key !== displayBlock().char) {\n          type = \"error\";\n          this.analysis.errorInput();\n        }\n        if (displayBlock().type === \"end\") {\n          this.analysis.endInput();\n        }\n        displayBlock().changeType(\"transparent\");\n        inputBlock().changeType(type);\n        this.moveIndex(\"forward\");\n\n        // 计数\n        this.analysis.addInput();\n        // 阻止浏览器默认\n      }\n      // ENTER\n      if (code === 13) {\n      }\n      // back\n      if (code === 8) {\n        this.moveIndex(\"back\");\n        displayBlock().changeType(\"default\");\n        inputBlock().changeType(\"transparent\");\n      }\n    };\n  }\n  /**\n   * 移动光标\n   * @param type 移动方向\n   */\n  moveIndex(type: string) {\n    let lineIndex = this.index[1];\n    let charIndex = this.index[0];\n    let line = () => {\n      return this.displayView.lineList[this.index[1]];\n    };\n    let char = () => {\n      return line().charList[this.index[0]];\n    };\n    char().toggleActive(false);\n\n    if (type === \"forward\") {\n      if (checkEnd(this.displayView)) return;\n      if (charIndex >= line().charList.length - 1) {\n        this.index[0] = 0;\n        this.index[1]++;\n      } else {\n        this.index[0]++;\n      }\n    } else if (type === \"back\") {\n      if (checkStart(this.displayView)) return;\n      if (charIndex > 0 && char().type !== \"indent\") {\n        this.index[0]--;\n      } else {\n        this.index[1]--;\n        this.index[0] = line().charList.length - 1;\n      }\n    }\n    char().toggleActive(true);\n    if (char().type === \"indent\") this.moveIndex(type);\n\n    function checkEnd(view: View) {\n      return (\n        lineIndex === view.lineList.length - 1 &&\n        line().charList.length - 1 === charIndex\n      );\n    }\n    function checkStart(view: View) {\n      return lineIndex === 0 && charIndex === 0;\n    }\n  }\n}\n\n\n// 主函数\nfunction __main__() {\n  let config: TypingConfig = {\n    el: document.getElementById(\"typing\"),\n    text: C.content.trim()\n  };\n  let typing = new Typing(config);\n}\n\nwindow.onload = function() {\n  __main__();\n};\n"]}